{"version":3,"file":"reactivity.global.js","sources":["../../shared/src/index.ts","../src/effect.ts","../src/baseHandlers.ts","../src/reactive.ts","../src/ref.ts"],"sourcesContent":["export const isObject = (value)=> typeof value === 'object' && value != null\r\n\r\nexport const extend = Object.assign\r\n\r\nexport const isArray = Array.isArray\r\n\r\nexport const isFunction = (value)=> typeof value === 'function'\r\n\r\nexport const isNumber = (value)=> typeof value === 'number'\r\n\r\nexport const isString = (value)=> typeof value === 'string'\r\n\r\nexport const isIntegerKey = (key)=> parseInt(key)+'' === key\r\n\r\nlet hasOwnProperty = Object.prototype.hasOwnProperty\r\nexport const hasOwn = (target, key) => hasOwnProperty.call(target, key)\r\n\r\nexport const hasChanged = (oldValue, value) => value !== oldValue","import { isArray, isIntegerKey } from \"@vue/shared\";\r\nimport { TriggerOrTypes } from \"./operators\";\r\n\r\nexport function effect(fn, options: any = {}) {\r\n  const effect = createReactiveEffect(fn, options);\r\n  if (!options.lazy) {\r\n    //effect 默认会执行一次\r\n    effect();\r\n  }\r\n  return effect;\r\n}\r\nlet uid = 0;\r\nlet activeEffect;\r\nconst effectStack = [];\r\nfunction createReactiveEffect(fn, options: any = {}) {\r\n  const effect = function reactiveEffect() {\r\n    if (!effectStack.includes(effect)) {\r\n      try {\r\n        activeEffect = effect;\r\n        effectStack.push(effect);\r\n        fn();\r\n      } finally {\r\n        effectStack.pop();\r\n        activeEffect = effectStack[effectStack.length - 1];\r\n      }\r\n    }\r\n  };\r\n  effect.id = uid++;\r\n  effect._isEffect = true;\r\n  effect.raw = fn;\r\n  effect.options = options;\r\n  return effect;\r\n}\r\n\r\nconst targetMap = new WeakMap();\r\nexport function track(target, type, key) {\r\n  if (activeEffect === undefined) return;\r\n  let depsMap = targetMap.get(target);\r\n  if (!depsMap) {\r\n    targetMap.set(target, (depsMap = new Map()));\r\n  }\r\n  let dep = depsMap.get(key);\r\n  if (!dep) {\r\n    depsMap.set(key, (dep = new Set()));\r\n  }\r\n  if (!dep.has(activeEffect)) {\r\n    dep.add(activeEffect);\r\n  }\r\n}\r\n//找属性对应的effect 让其执行（数组、对象）\r\nexport function trigger(target, type, key?, newValue?, oldValue?) {\r\n  const depsMap = targetMap.get(target);\r\n  if (!depsMap) return;\r\n  const effects = new Set();\r\n  const add = (effectsToAdd) => {\r\n    if (effectsToAdd) {\r\n      effectsToAdd.forEach((effect) => effects.add(effect));\r\n    }\r\n  };\r\n  if (key === \"length\" && isArray(target)) {\r\n    depsMap.forEach((dep, key) => {\r\n      if (key === \"length\" || key > newValue) {\r\n        add(dep);\r\n      }\r\n    });\r\n  } else {\r\n    //可能是对象\r\n    if(key !=undefined){\r\n      add(depsMap.get(key))\r\n    }\r\n    switch(type){\r\n      case TriggerOrTypes.ADD:\r\n        if(isArray(target) && isIntegerKey(key)){\r\n          add(depsMap.get('length'))\r\n        }\r\n    }\r\n  }\r\n  effects.forEach((effect: any) => {\r\n    effect();\r\n  });\r\n}\r\n","import { isObject, extend, isArray, isIntegerKey, hasOwn, hasChanged } from \"@vue/shared\"\r\nimport { reactive, readonly } from \"./reactive\";\r\nimport { track, trigger } from \"./effect\";\r\nimport { TrackOpTypes, TriggerOrTypes } from \"./operators\";\r\nconst readonlyObj = {\r\n    set:(target, key)=> {\r\n        console.log(`set on key ${key} falied`);\r\n    }\r\n}\r\nfunction createGetter(isReadonly = false, shallow = false){\r\n    return (target,key,receiver)=> {\r\n        const res = Reflect.get(target, key, receiver)\r\n        if(shallow){\r\n            //如果是浅的 直接返回当前值\r\n            return res\r\n        }\r\n        if(!isReadonly){\r\n            //如果不是仅读的则需要收集当前以来，以便修改值时通知依赖更新\r\n            console.log('执行effect时会取值','收集effect');\r\n            track(target, TrackOpTypes.GET, key)\r\n            \r\n        }\r\n        if(isObject(res)){\r\n            //如果当前值还是对象 则需要继续递归代理\r\n            return isReadonly?readonly(res):reactive(res)\r\n        }\r\n        return res\r\n    }\r\n}\r\nfunction createSetter(shallow = false){\r\n    return (target, key, value, receiver)=> {\r\n        const oldValue = target[key]\r\n        let hasKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key)\r\n        const result = Reflect.set(target, key, value,  receiver)\r\n        if(!hasKey){\r\n            //新增\r\n            trigger(target, TriggerOrTypes.ADD, key, value)\r\n        }else if(hasChanged(oldValue, value)){\r\n            //修改\r\n            trigger(target, TriggerOrTypes.SET, key, value, oldValue)\r\n        }\r\n       \r\n        //当数据更新时 通知对应属性收集的effect重新执行\r\n        return result\r\n    }\r\n}\r\n\r\nconst set = createSetter()\r\nconst shallowSet = createSetter(true)\r\nconst get = createGetter()\r\nconst shallowGet = createGetter(false, true)\r\nconst readonlyGet = createGetter(true)\r\nconst shallowReadonlyGet = createGetter(true, true)\r\n\r\n\r\nconst reactiveHandler = {\r\n    get,\r\n    set\r\n}\r\nconst shallowReactiveHandler = {\r\n    get:shallowGet,\r\n    set:shallowSet,\r\n}\r\nconst readonlyHandler = extend({\r\n    get:readonlyGet\r\n},readonlyObj)\r\n\r\nconst shallowReadonlyHandler = extend({\r\n    get:shallowReadonlyGet\r\n},readonlyObj)\r\n\r\nexport {\r\n    reactiveHandler,\r\n    shallowReactiveHandler,\r\n    readonlyHandler,\r\n    shallowReadonlyHandler\r\n}","import { isObject } from \"@vue/shared\"\r\nimport { reactiveHandler, readonlyHandler, shallowReactiveHandler, shallowReadonlyHandler } from \"./baseHandlers\"\r\nexport function reactive(target){\r\n    return createReactiveObject(target, false, reactiveHandler)\r\n}\r\nexport function shallowReactive(target){\r\n    return createReactiveObject(target, false, shallowReactiveHandler)\r\n}\r\nexport function readonly(target){\r\n    return createReactiveObject(target, true, readonlyHandler)\r\n}\r\nexport function shallowReadonly(target){\r\n    return createReactiveObject(target, true, shallowReadonlyHandler)\r\n}\r\nconst reactiveMap = new WeakMap()\r\nconst readonlyMap = new WeakMap()\r\nexport function createReactiveObject(target, isReadonly, baseHandlers){\r\n    if(!isObject(target)) return target\r\n    const proxyMap = isReadonly?readonlyMap:reactiveMap\r\n    const existProxy = proxyMap.get(target)\r\n    if(existProxy)return existProxy\r\n    const proxy = new Proxy(target, baseHandlers)\r\n    proxyMap.set(target, proxy)\r\n    return proxy\r\n}","import { hasChanged, isObject } from \"@vue/shared\";\r\nimport { track, trigger } from \"./effect\";\r\nimport { TrackOpTypes, TriggerOrTypes } from \"./operators\";\r\nimport { reactive } from \"./reactive\";\r\n\r\nconst convert = (val) => (isObject(val) ? reactive(val) : val);\r\n\r\nexport function ref(value) {\r\n  return createRef(value);\r\n}\r\n\r\nexport function shallowRef(value) {\r\n  return createRef(value, true);\r\n}\r\n\r\nclass RefImpl {\r\n  public _value;\r\n  public __v_isRef = true;\r\n  constructor(public rawValue, public shallow) {\r\n    this._value = shallow ? rawValue : convert(rawValue);\r\n  }\r\n  get value() {\r\n    track(this, TrackOpTypes.GET, \"value\");\r\n    return this._value;\r\n  }\r\n  set value(newValue) {\r\n    if (hasChanged(newValue, this._value)) {\r\n      this.rawValue = newValue;\r\n      this._value = this.shallow ? newValue : convert(newValue );\r\n      trigger(this, TriggerOrTypes.SET, \"value\", newValue);\r\n    }\r\n  }\r\n}\r\n\r\nfunction createRef(rawValue, shallow = false) {\r\n  return new RefImpl(rawValue, shallow);\r\n}\r\n\r\nclass ObjectRefImpl{\r\n    public __v_isRef = true\r\n    constructor( public target, public key){\r\n\r\n    }\r\n    get value(){\r\n        return this.target[this.key]\r\n    }\r\n    set value(newValue){\r\n        this.target[this.key] = newValue\r\n    }\r\n}\r\nexport function toRef(target, key){\r\n    return new ObjectRefImpl(target, key)\r\n}"],"names":[],"mappings":"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"}